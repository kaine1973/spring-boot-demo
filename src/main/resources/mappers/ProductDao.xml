<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rk.dao.ProductDao">
    <resultMap id="categoryOfParent" type="rk.po.ProductCategory">
        <id column="id" javaType="java.lang.Integer" jdbcType="INTEGER" property="id"/>
        <result column="category_name" javaType="java.lang.String" jdbcType="VARCHAR" property="categoryName"/>
        <result column="parent_id" javaType="java.lang.Integer" jdbcType="INTEGER" property="parentId"/>
    </resultMap>

    <resultMap id="productInformation" type="rk.po.Product">
        <id column="id" javaType="java.lang.Integer" jdbcType="INTEGER" property="id"/>
        <result column="product_name" javaType="java.lang.String" jdbcType="VARCHAR" property="productName"/>
        <result column="brand" javaType="java.lang.String" jdbcType="VARCHAR" property="brand"/>
        <result column="model" javaType="java.lang.String" jdbcType="VARCHAR" property="model"/>
        <result column="unit" javaType="java.lang.String" jdbcType="VARCHAR" property="unit"/>
        <result column="product_id" javaType="java.lang.Integer" jdbcType="INTEGER" property="parentId"/>
    </resultMap>

    <select id="queryProductById" resultMap="productInformation" resultType="rk.po.Product">
        select *
        from crm.product
        where id = #{id} and user_id = #{userId}
    </select>


    <select id="selectCategoryOfLevel" resultMap="categoryOfParent" resultType="java.lang.String" parameterType="java.lang.Integer">
        select *
        from crm.product_category
        where parent_id = #{parentId}
    </select>






</mapper>